(function(t,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("vue")):typeof define=="function"&&define.amd?define(["vue"],y):(t=typeof globalThis<"u"?globalThis:t||self,t["vc-layout"]=y(t.Vue))})(this,function(t){"use strict";function y(n){let i=0;for(let e=0;e<n.length;++e)n[e]==="&"&&++i;return i}const _=/\s*,(?![^(]*\))\s*/g,P=/\s+/g;function D(n,i){const e=[];return i.split(_).forEach(o=>{let r=y(o);if(r){if(r===1){n.forEach(d=>{e.push(o.replace("&",d))});return}}else{n.forEach(d=>{e.push((d&&d+" ")+o)});return}let a=[o];for(;r--;){const d=[];a.forEach(s=>{n.forEach(f=>{d.push(s.replace("&",f))})}),a=d}a.forEach(d=>e.push(d))}),e}function I(n,i){const e=[];return i.split(_).forEach(o=>{n.forEach(r=>{e.push((r&&r+" ")+o)})}),e}function j(n){let i=[""];return n.forEach(e=>{e=e&&e.trim(),e&&(e.includes("&")?i=D(i,e):i=I(i,e))}),i.join(", ").replace(P," ")}function L(n){if(!n)return;const i=n.parentElement;i&&i.removeChild(n)}function C(n){return document.querySelector(`style[cssr-id="${n}"]`)}function q(n){const i=document.createElement("style");return i.setAttribute("cssr-id",n),i}function b(n){return n?/^\s*@(s|m)/.test(n):!1}const R=/[A-Z]/g;function E(n){return n.replace(R,i=>"-"+i.toLowerCase())}function N(n,i="  "){return typeof n=="object"&&n!==null?` {
`+Object.entries(n).map(e=>i+`  ${E(e[0])}: ${e[1]};`).join(`
`)+`
`+i+"}":`: ${n};`}function O(n,i,e){return typeof n=="function"?n({context:i.context,props:e}):n}function T(n,i,e,o){if(!i)return"";const r=O(i,e,o);if(!r)return"";if(typeof r=="string")return`${n} {
${r}
}`;const a=Object.keys(r);if(a.length===0)return e.config.keepEmptyBlock?n+` {
}`:"";const d=n?[n+" {"]:[];return a.forEach(s=>{const f=r[s];if(s==="raw"){d.push(`
`+f+`
`);return}s=E(s),f!=null&&d.push(`  ${s}${N(f)}`)}),n&&d.push("}"),d.join(`
`)}function B(n,i,e){!n||n.forEach(o=>{if(Array.isArray(o))B(o,i,e);else if(typeof o=="function"){const r=o(i);Array.isArray(r)?B(r,i,e):r&&e(r)}else o&&e(o)})}function W(n,i,e,o,r,a){const d=n.$;let s="";if(!d||typeof d=="string")b(d)?s=d:i.push(d);else if(typeof d=="function"){const l=d({context:o.context,props:r});b(l)?s=l:i.push(l)}else if(d.before&&d.before(o.context),!d.$||typeof d.$=="string")b(d.$)?s=d.$:i.push(d.$);else if(d.$){const l=d.$({context:o.context,props:r});b(l)?s=l:i.push(l)}const f=j(i),c=T(f,n.props,o,r);s?(e.push(`${s} {`),a&&c&&a.insertRule(`${s} {
${c}
}
`)):(a&&c&&a.insertRule(c),!a&&c.length&&e.push(c)),n.children&&B(n.children,{context:o.context,props:r},l=>{if(typeof l=="string"){const u=T(f,{raw:l},o,r);a?a.insertRule(u):e.push(u)}else W(l,i,e,o,r,a)}),i.pop(),s&&e.push("}"),d&&d.after&&d.after(o.context)}function z(n,i,e,o=!1){const r=[];return W(n,[],r,i,e,o?n.instance.__styleSheet:void 0),o?"":r.join(`

`)}function Z(n){for(var i=0,e,o=0,r=n.length;r>=4;++o,r-=4)e=n.charCodeAt(o)&255|(n.charCodeAt(++o)&255)<<8|(n.charCodeAt(++o)&255)<<16|(n.charCodeAt(++o)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,i=(e&65535)*1540483477+((e>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(r){case 3:i^=(n.charCodeAt(o+2)&255)<<16;case 2:i^=(n.charCodeAt(o+1)&255)<<8;case 1:i^=n.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function U(n,i,e){const{els:o}=i;if(e===void 0)o.forEach(L),i.els=[];else{const r=C(e);r&&o.includes(r)&&(L(r),i.els=o.filter(a=>a!==r))}}function A(n,i){n.push(i)}function G(n,i,e,o,r,a,d,s,f){if(a&&!f){if(e===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const p=window.__cssrContext;p[e]||(p[e]=!0,z(i,n,o,a));return}let c;if(e===void 0&&(c=i.render(o),e=Z(c)),f){f.adapter(e,c!=null?c:i.render(o));return}const l=C(e);if(l!==null&&!d)return l;const u=l!=null?l:q(e);if(c===void 0&&(c=i.render(o)),u.textContent=c,l!==null)return l;if(s){const p=document.head.querySelector(`meta[name="${s}"]`);if(p)return document.head.insertBefore(u,p),A(i.els,u),u}return r?document.head.insertBefore(u,document.head.querySelector("style, link")):document.head.appendChild(u),A(i.els,u),u}function X(n){return z(this,this.instance,n)}function J(n={}){const{id:i,ssr:e,props:o,head:r=!1,silent:a=!1,force:d=!1,anchorMetaName:s}=n;return G(this.instance,this,i,o,r,a,d,s,e)}function K(n={}){const{id:i}=n;U(this.instance,this,i)}const w=function(n,i,e,o){return{instance:n,$:i,props:e,children:o,els:[],render:X,mount:J,unmount:K}},Q=function(n,i,e,o){return Array.isArray(i)?w(n,{$:null},null,i):Array.isArray(e)?w(n,i,null,e):Array.isArray(o)?w(n,i,e,o):w(n,i,e,null)};function x(n={}){let i=null;const e={c:(...o)=>Q(e,...o),use:(o,...r)=>o.install(e,...r),find:C,context:{},config:n,get __styleSheet(){if(!i){const o=document.createElement("style");return document.head.appendChild(o),i=document.styleSheets[document.styleSheets.length-1],i}return i}};return e}const Y=t.defineComponent({name:"LayoutHeader"}),v=t.defineComponent({...Y,props:{fixed:{type:Boolean,default:!0},zIndex:{default:1001},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,zIndex:d,minWidth:s,height:f,paddingLeft:c,transitionDuration:l,transitionTimingFunction:u}=i,p=a?"fixed":"static",h=i.useMinWidthLayout?`min-width:${s}px;`:"";return`position:${p};z-index:${d};${h}height:${f}px;padding-left:${c}px;transition-duration:${l}ms;transition-timing-function:${u};`}),{c:o}=x(),r=o(".admin-layout__header",{left:0,top:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("header",{class:"admin-layout__header",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}}),tt=t.defineComponent({name:"LayoutTab"}),et=t.defineComponent({...tt,props:{fixed:{type:Boolean,default:!0},top:{default:56},zIndex:{default:999},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,top:d,zIndex:s,minWidth:f,height:c,paddingLeft:l,transitionDuration:u,transitionTimingFunction:p}=i,h=a?"fixed":"static",$=i.useMinWidthLayout?`min-width: ${f}px;`:"";return`position:${h};top:${d}px;z-index:${s};${$}height:${c}px;padding-left:${l}px;transition-duration:${u}ms;transition-timing-function:${p};`}),{c:o}=x(),r=o(".admin-layout__tab",{left:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("div",{class:"admin-layout__tab",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}}),nt=t.defineComponent({name:"LayoutSider"}),it=t.defineComponent({...nt,props:{zIndex:{default:1002},width:{default:200},paddingTop:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{zIndex:a,width:d,paddingTop:s,transitionDuration:f,transitionTimingFunction:c}=i;return`z-index:${a};width:${d}px;padding-top:${s}px;transition-duration:${f}ms;transition-timing-function:${c};`}),{c:o}=x(),r=o(".admin-layout__sider",{position:"fixed",left:0,top:0,boxSizing:"border-box",width:"100%",height:"100%",transitionProperty:"all"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("aside",{class:"admin-layout__sider",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}}),ot=t.defineComponent({name:"LayoutContent"}),rt=t.defineComponent({...ot,props:{paddingTop:{default:0},paddingBottom:{default:0},paddingLeft:{default:0},overflowHidden:{type:Boolean},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{paddingTop:a,paddingBottom:d,paddingLeft:s,transitionDuration:f,transitionTimingFunction:c}=i,l=`overflow:${i.overflowHidden?"hidden":"visible"};`;return`padding-top:${a}px;padding-bottom:${d}px;padding-left:${s}px;${l}transition-duration:${f}ms;transition-timing-function:${c};`}),{c:o}=x(),r=o(".admin-layout__content",{flexGrow:1,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("main",{style:t.normalizeStyle(t.unref(e)),class:"admin-layout__content"},[t.renderSlot(a.$slots,"default")],4))}}),dt=t.defineComponent({name:"LayoutFooter"}),at=t.defineComponent({...dt,props:{fixed:{type:Boolean,default:!0},zIndex:{default:999},useMinWidthLayout:{type:Boolean},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(n){const i=n,e=t.computed(()=>{const{fixed:a,zIndex:d,minWidth:s,height:f,paddingLeft:c,transitionDuration:l,transitionTimingFunction:u}=i,p=a?"fixed":"static",h=i.useMinWidthLayout?`min-width:${s}px;`:"";return`position:${p};z-index:${d};${h}height:${f}px;padding-left:${c}px;transition-duration:${l}ms;transition-timing-function:${u};`}),{c:o}=x(),r=o(".admin-layout__footer",{left:0,bottom:0,flexShrink:0,boxSizing:"border-box",width:"100%",transitionProperty:"padding-left"});return r.render(),r.mount(),(a,d)=>(t.openBlock(),t.createElementBlock("footer",{class:"admin-layout__footer",style:t.normalizeStyle(t.unref(e))},[t.renderSlot(a.$slots,"default")],4))}});function st(n){const i=t.ref(0),e=t.computed(()=>`transform: translateX(${-i.value}px);`);let o=!1;function r(l){i.value=l}function a(){var u;const l=((u=document.scrollingElement)==null?void 0:u.scrollLeft)||0;r(l)}function d(){a()}function s(){document.addEventListener("scroll",a)}function f(){!o||document.removeEventListener("scroll",a)}function c(){d(),s(),o=!0}return t.watch(n,l=>{l?c():f()},{immediate:!0}),t.onUnmounted(()=>{f()}),e}const lt=t.defineComponent({name:"AdminLayout"}),k=t.defineComponent({...lt,props:{mode:{default:"vertical"},isMobile:{type:Boolean,default:!1},maskBg:{default:"rgba(0,0,0,0.3)"},useMinWidthLayout:{type:Boolean,default:!1},minWidth:{default:1200},headerVisible:{type:Boolean,default:!0},headerHeight:{default:56},tabVisible:{type:Boolean,default:!0},tabHeight:{default:44},fixedHeaderAndTab:{type:Boolean,default:!0},addMainOverflowHidden:{type:Boolean,default:!1},footerVisible:{type:Boolean,default:!0},footerHeight:{default:48},fixedFooter:{type:Boolean,default:!0},siderVisible:{type:Boolean,default:!0},siderWidth:{default:200},siderCollapsedWidth:{default:64},siderCollapse:{type:Boolean,default:!1},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},emits:["update:sider-collapse"],setup(n,{emit:i}){const e=n,o=t.computed(()=>e.useMinWidthLayout?`min-width:${e.minWidth}px;`:""),r=t.computed(()=>e.useMinWidthLayout&&(e.fixedHeaderAndTab||e.fixedFooter)),a=st(r),d=t.computed(()=>e.fixedHeaderAndTab?a.value:""),s=t.computed(()=>e.fixedFooter?a.value:""),f=t.computed(()=>{const{transitionDuration:m,transitionTimingFunction:g}=e;return{transitionDuration:m,transitionTimingFunction:g}}),c=t.computed(()=>e.mode==="vertical"),l=1001,u=999,p=t.computed(()=>e.isMobile||c.value?1003:1e3),h=998,$=t.computed({get(){return e.siderCollapse},set(m){i("update:sider-collapse",m)}});function ct(){$.value=!0}const ut=t.computed(()=>e.isMobile&&!$.value),mt=t.computed(()=>{const{transitionDuration:m,transitionTimingFunction:g}=e;return`background-color:${e.maskBg};transition-duration:${m}ms;transition-timing-function:${g};`}),H=t.computed(()=>{const{siderWidth:m,siderCollapsedWidth:g}=e,V=e.isMobile?0:g,yt=$.value?V:m;return e.siderVisible?yt:0}),S=t.computed(()=>e.isMobile?0:H.value),pt=t.computed(()=>c.value?S.value:0),ht=t.computed(()=>!e.isMobile&&!c.value&&e.headerVisible?e.headerHeight:0),xt=t.computed(()=>{let m=0;return e.fixedHeaderAndTab&&(e.headerVisible&&(m+=e.headerHeight),e.tabVisible&&(m+=e.tabHeight)),m}),gt=t.computed(()=>e.fixedFooter&&e.footerVisible?e.footerHeight:0),{c:M}=x(),F=M(".admin-layout",{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[M("&__sider-mask",{position:"fixed",left:0,top:0,zIndex:1002,width:"100%",height:"100%",transitionProperty:"background-color"})]);return F.render(),F.mount(),(m,g)=>(t.openBlock(),t.createElementBlock("div",{class:"admin-layout",style:t.normalizeStyle(t.unref(o))},[n.headerVisible?(t.openBlock(),t.createBlock(t.unref(v),t.mergeProps({key:0},t.unref(f),{fixed:n.fixedHeaderAndTab,"z-index":l,"min-width":n.minWidth,height:n.headerHeight,"padding-left":t.unref(pt),style:t.unref(d)}),{default:t.withCtx(()=>[t.renderSlot(m.$slots,"header")]),_:3},16,["fixed","min-width","height","padding-left","style"])):t.createCommentVNode("",!0),n.tabVisible?(t.openBlock(),t.createBlock(t.unref(et),t.mergeProps({key:1},t.unref(f),{fixed:n.fixedHeaderAndTab,"z-index":u,"min-width":n.minWidth,top:n.headerHeight,height:n.tabHeight,"padding-left":t.unref(S),style:t.unref(d)}),{default:t.withCtx(()=>[t.renderSlot(m.$slots,"tab")]),_:3},16,["fixed","min-width","top","height","padding-left","style"])):t.createCommentVNode("",!0),n.siderVisible?(t.openBlock(),t.createBlock(t.unref(it),t.mergeProps({key:2},t.unref(f),{"z-index":t.unref(p),width:t.unref(H),"padding-top":t.unref(ht)}),{default:t.withCtx(()=>[t.renderSlot(m.$slots,"sider")]),_:3},16,["z-index","width","padding-top"])):t.createCommentVNode("",!0),t.unref(ut)?(t.openBlock(),t.createElementBlock("div",{key:3,class:"admin-layout__sider-mask",style:t.normalizeStyle(t.unref(mt)),onClick:ct},null,4)):t.createCommentVNode("",!0),t.createVNode(t.unref(rt),t.mergeProps(t.unref(f),{"padding-top":t.unref(xt),"padding-bottom":t.unref(gt),"padding-left":t.unref(S),"overflow-hidden":n.addMainOverflowHidden}),{default:t.withCtx(()=>[t.renderSlot(m.$slots,"default")]),_:3},16,["padding-top","padding-bottom","padding-left","overflow-hidden"]),n.footerVisible?(t.openBlock(),t.createBlock(t.unref(at),t.mergeProps({key:4},t.unref(f),{fixed:n.fixedFooter,"z-index":h,"min-width":n.minWidth,height:n.footerHeight,"padding-left":t.unref(S),style:t.unref(s)}),{default:t.withCtx(()=>[t.renderSlot(m.$slots,"footer")]),_:3},16,["fixed","min-width","height","padding-left","style"])):t.createCommentVNode("",!0)],4))}});function ft(n){n.component("AdminLayout",k)}return k.install=ft,k});
